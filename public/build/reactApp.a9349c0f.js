(self.webpackChunk=self.webpackChunk||[]).push([[709],{21128:(e,t,a)=>{"use strict";var l=a(67294),n=a(73935),s=a(5977),r=a(73727);class o extends l.Component{render(){return l.createElement("div",{className:"border"},l.createElement("ul",{style:{listStyleType:"none",padding:0}},l.createElement("li",null,l.createElement(r.OL,{to:"/admin",exact:!0,activeClassName:"active",className:"list-group-item list-group-item-action"},l.createElement("i",{className:"fas fa-home"})," Dashboard")),l.createElement("li",null,l.createElement(r.OL,{to:"/product",activeClassName:"active",className:"list-group-item list-group-item-action"},l.createElement("i",{className:"fas fa-boxes"})," Product")),l.createElement("li",null,l.createElement(r.OL,{to:"/orders",activeClassName:"active",className:"list-group-item list-group-item-action"},l.createElement("i",{className:"fas fa-shopping-cart"})," Order")),l.createElement("li",null,l.createElement(r.OL,{to:"/customer",activeClassName:"active",className:"list-group-item list-group-item-action"},l.createElement("i",{className:"fas fa-users"})," Customer")),l.createElement("li",null,l.createElement(r.OL,{to:"/categories",activeClassName:"active",className:"list-group-item list-group-item-action"},l.createElement("i",{class:"fas fa-paw"})," Categories")),l.createElement("li",null,l.createElement(r.OL,{to:"/createproduct",activeClassName:"active",className:"list-group-item list-group-item-action"},l.createElement("i",{class:"fas fa-list-alt"})," Devops"))))}}var i=a(9669),c=a.n(i),m=a(29210),d=a(34051),h=a(31555),u=a(75147),g=a(36968),p=a(9198),E=a.n(p);class b extends l.Component{render(){return l.createElement("div",{className:"modal fade",id:"modal"+this.props.id,role:"dialog","aria-labelledby":"modal"+this.props.id+"Label","aria-hidden":"true"},l.createElement("div",{className:"modal-dialog",role:"document"},l.createElement("div",{className:"modal-content"},l.createElement("div",{className:"modal-header"},l.createElement("h5",{style:{color:"black"}},"Delete"),l.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.createElement("span",{"aria-hidden":"true"},"Ã—"))),l.createElement("div",{className:"modal-body",style:{color:"black"}},"Confirm Delete Order ",this.props.id,"?"),l.createElement("div",{className:"modal-footer"},l.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.createElement("button",{onClick:()=>this.props.delete(this.props.id),type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Confirm")))))}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class v extends l.Component{constructor(e){super(e),y(this,"paginateData",(e=>{console.log(e);const{limit:t}=this.state,a=Math.ceil(e.length/t);this.setState({pagination:this.paginate(e,t,0),data:e,range:a,active:0})})),y(this,"handlePage",(e=>{this.setState({pagination:this.paginate(this.state.data,this.state.limit,e),active:e})})),y(this,"filterItems",((e,t)=>-1!==e.toLowerCase().indexOf(t.toLowerCase()))),y(this,"formatDate",(e=>{const t=new Date(e).getFullYear(),a=new Date(e).getMonth();return`${new Date(e).getDate()}-${a+1}-${t}`})),y(this,"handleSearch",(()=>{const{email:e,statusFilter:t,fromDate:a,toDate:l,orderId:n,greater:s,less:r}=this.state;let o=this.state.defaultData;if(e&&(o=o.filter((t=>-1!==t.user.email.toLowerCase().indexOf(e.toLowerCase())))),t&&"NONE"!==t&&(o=o.filter((e=>e.status===t))),a&&l)if(new Date(a).getTime()===new Date(l).getTime()){let e=new Date(l);e.setDate(e.getDate()+1),o=o.filter((t=>new Date(t.createdAt).getTime()>=new Date(a).getTime()&&new Date(t.createdAt).getTime()<=e.getTime()))}else o=o.filter((e=>new Date(e.createdAt).getTime()>=new Date(a).getTime()&&new Date(e.createdAt).getTime()<=new Date(l).getTime()));n&&(o=o.filter((e=>e.id===parseInt(n)))),s&&(o=o.filter((e=>e.total>parseFloat(s)))),r&&(o=o.filter((e=>e.total<parseFloat(r)))),this.paginateData(o)})),y(this,"handleDelete",(e=>{console.log(e),c()({method:"DELETE",url:`/api/admin/orders/${e}`}).then((t=>{console.log(t);let{data:a,active:l}=this.state,n=a.filter((t=>t.id!==e));this.setState({data:n}),this.handlePage(l)})).catch((e=>console.log(e)))})),y(this,"handleClear",(()=>{console.log("clearing"),this.refs.email.value="",this.refs.status.value="NONE",this.refs.order.value="",this.refs.greater.value="",this.refs.less.value="",this.setState({email:null,statusFilter:null,fromDate:null,toDate:null,orderId:null,greater:null,less:null})})),this.state={limit:10,data:null,pagination:null,active:0,email:null,statusFilter:null,toDate:null,fromDate:null}}paginate(e,t,a){return console.log(t),e.slice(a*t,(a+1)*t)}componentDidMount(){this.mounted=!0,c().get("/api/admin/order").then((e=>{if(this.mounted){const{data:t}=e;console.log("data res",t),this.setState({defaultData:t}),this.paginateData(t)}})).catch((e=>{console.log(e)}))}render(){const{data:e,range:t,active:a,pagination:n,statusFilter:s}=this.state;console.log(s);let o=[];if(t)for(let e=0;e<t;e++)o.push(l.createElement(m.Z.Item,{onClick:()=>this.handlePage(e),key:e,active:e===a},e+1));return l.createElement("div",null,l.createElement("div",{className:"p-2 border rounded mb-3"},l.createElement("h5",null,"Search"),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",null,l.createElement("label",null,"Email"),l.createElement("input",{ref:"email",type:"text",onChange:e=>this.setState({email:e.target.value}),style:{width:"12em"},className:"form-control"}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("label",null,"Status"),l.createElement("select",{ref:"status",onChange:e=>this.setState({statusFilter:e.target.value}),className:"form-control",style:{width:"12em"}},l.createElement("option",{value:"NONE"},"Filter By"),l.createElement("option",{value:"PENDING"},"PENDING"),l.createElement("option",{value:"DELIVERING"},"DELIVERING"),l.createElement("option",{value:"PROCESSING"},"PROCESSING"),l.createElement("option",{value:"COMPLETED"},"COMPLETED"))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("label",null,"From"),l.createElement("div",null,l.createElement(E(),{style:{width:"12em"},selectsStart:!0,className:"form-control",placeholderText:"Click to select a date",onChange:e=>this.setState({fromDate:e}),selected:this.state.fromDate,startDate:this.state.fromDate,endDate:this.state.toDate,dateFormat:"dd/MM/yyyy",maxDate:this.state.toDate,isClearable:!0}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("label",null,"To"),l.createElement("div",null,l.createElement(E(),{style:{width:"12em"},selectsEnd:!0,className:"form-control",placeholderText:"Click to select a date",onChange:e=>this.setState({toDate:e}),selected:this.state.toDate,startDate:this.state.fromDate,endDate:this.state.toDate,dateFormat:"dd/MM/yyyy",minDate:this.state.fromDate,isClearable:!0})))),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-2 pb-2"},l.createElement("label",null,"Order Id"),l.createElement("input",{ref:"order",onChange:e=>this.setState({orderId:e.target.value}),style:{width:"12em"},className:"form-control"}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-2 pb-2"},l.createElement("label",null,"Total Greater Than"),l.createElement("input",{ref:"greater",onChange:e=>this.setState({greater:e.target.value}),style:{width:"12em"},className:"form-control"}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-2 pb-2"},l.createElement("label",null,"Total Less Than"),l.createElement("input",{ref:"less",onChange:e=>this.setState({less:e.target.value}),style:{width:"12em"},className:"form-control"})))),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"},l.createElement("button",{className:"btn btn-info",onClick:this.handleSearch},l.createElement("i",{className:"fas fa-search"})," ","  "," Search"))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"},l.createElement("button",{className:"btn btn-secondary",onClick:this.handleClear},l.createElement("i",{className:"fas fa-eraser"})," ","  "," Clear"))))),l.createElement("div",{className:"container border rounded overflow-auto"},l.createElement("div",{className:"m-3"},l.createElement("div",{className:"row"},n&&l.createElement("div",null,e&&e.length?l.createElement("h6",null,e.length," result found"):l.createElement("h6",null,"No result found")),l.createElement(u.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"#"),l.createElement("th",null,"User Email"),l.createElement("th",null,"Order Id"),l.createElement("th",null,"Total"),l.createElement("th",null,"Status"),l.createElement("th",null,"Date Created"),l.createElement("th",null,"Action"),l.createElement("th",null,"Delete"))),l.createElement("tbody",null,n?n.map(((e,t)=>l.createElement("tr",{key:t},l.createElement("td",null,t+1),l.createElement("td",null,e.user.email),l.createElement("td",null,e.id),l.createElement("td",null,e.total),l.createElement("td",null,e.status),l.createElement("td",null,this.formatDate(e.createdAt)),l.createElement("td",null,l.createElement(r.rU,{className:"btn btn-primary",to:{pathname:"/vieworder",state:{data:e}}},l.createElement("i",{className:"fas fa-pen-square"}),"  ","View")),l.createElement("td",null,l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":"#modal"+e.id},l.createElement("i",{className:"far fa-1x fa-trash-alt"})," Delete"),l.createElement(b,{delete:this.handleDelete,id:e.id})))))):l.createElement("tr",null,l.createElement("td",null,l.createElement(g.Z,{animation:"border"}))))),l.createElement("br",null),l.createElement(m.Z,null,l.createElement(m.Z.Prev,{onClick:()=>this.handlePage(a-1),disabled:0===a}),l.createElement(m.Z,null,o),l.createElement(m.Z.Next,{onClick:()=>this.handlePage(a+1),disabled:a===t-1}))))))}}class f extends l.Component{render(){return l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("h4",null,l.createElement("i",{className:"fas fa-shopping-cart"})," Orders"),l.createElement("p",null),l.createElement(v,null))}}var N=a(10267),C=a(51252);function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends l.Component{constructor(e){super(e),w(this,"formatDate",(e=>{const t=new Date(e).getFullYear(),a=new Date(e).getMonth();return`${new Date(e).getDate()}-${a+1}-${t}`})),w(this,"paginateData",(e=>{console.log(e);const{limit:t}=this.state,a=Math.ceil(e.length/t);this.setState({pagination:this.paginate(e,t,0),data:e,range:a,active:0})})),w(this,"handlePage",(e=>{this.setState({pagination:this.paginate(this.state.data,this.state.limit,e),active:e})})),w(this,"handleRemove",(e=>{console.log("handle remove",e),c()({method:"DELETE",url:`/api/admin/products/${e}`}).then((e=>{console.log(e),this.handlePage(this.state.active)})).catch((e=>console.log(e)))})),w(this,"handleClear",(()=>{console.log("clearing"),this.refs.email.value="",this.setState({email:null})})),w(this,"handleSearch",(()=>{const{email:e}=this.state;let t=this.state.defaultData;e&&(t=t.filter((t=>-1!==t.email.toLowerCase().indexOf(e.toLowerCase())))),this.paginateData(t)})),this.state={limit:10,data:null,pagination:null,active:0,email:null}}paginate(e,t,a){return console.log(t),e.slice(a*t,(a+1)*t)}componentDidMount(){this.mounted=!0,c().get("/api/admin/customer").then((e=>{if(this.mounted){const{data:t}=e;console.log(t),this.setState({defaultData:t}),this.paginateData(t)}})).catch((e=>console.log(e)))}componentWillUnmount(){this.mounted=!1}handleEdit(e){this.props.edit(e)}render(){console.log(this.props);const{data:e,active:t,range:a,pagination:n}=this.state;let s=[];if(a)for(let e=0;e<a;e++)s.push(l.createElement(m.Z.Item,{onClick:()=>{this.handlePage(e)},key:e,active:e===t},e+1));return l.createElement("div",null,l.createElement("div",{className:"p-2 border rounded mb-3"},l.createElement("h5",null,"Search"),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",null,l.createElement("label",null,"Email"),l.createElement("input",{ref:"email",type:"text",onChange:e=>this.setState({email:e.target.value}),style:{width:"12em"},className:"form-control"}))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"}),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"}),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"})),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"},l.createElement("button",{className:"btn btn-info",onClick:this.handleSearch},l.createElement("i",{className:"fas fa-search"})," ","  "," Search"))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"},l.createElement("button",{className:"btn btn-secondary",onClick:this.handleClear},l.createElement("i",{className:"fas fa-eraser"})," ","  "," Clear"))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"})),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"})))),l.createElement("div",{className:"container border rounded"},l.createElement("div",{className:"m-3"},l.createElement("div",{className:"row"},n&&l.createElement("div",null,e&&e.length?l.createElement("h6",null,e.length," result found"):l.createElement("h6",null,"No result found"))),l.createElement("br",null),l.createElement("div",{className:"overflow-auto"},l.createElement(u.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Email "),l.createElement("th",null,"First Name"),l.createElement("th",null,"Last Name"),l.createElement("th",null,"Registered On"))),l.createElement("tbody",null,n?n.map(((e,t)=>l.createElement("tr",{key:t},l.createElement("td",null,e.email),l.createElement("td",null,e.firstname),l.createElement("td",null,e.lastname),l.createElement("td",null,this.formatDate(e.createdAt))))):l.createElement("tr",null,l.createElement("td",null,l.createElement(g.Z,{animation:"border"})))))),l.createElement("br",null),l.createElement(m.Z,null,l.createElement(m.Z.Prev,{onClick:()=>this.handlePage(t-1),disabled:0===t}),l.createElement(m.Z,null,s),l.createElement(m.Z.Next,{onClick:()=>this.handlePage(t+1),disabled:t===a-1})))))}}class x extends l.Component{render(){return l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("h4",null,l.createElement("i",{className:"fas fa-users"}),"  ","Customer"),l.createElement(S,null))}}var D=a(17385),k=a(56941),I=a(91121),Z=a(36955);a(83451);function P(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const A=new Date(Date.now()).getFullYear(),L=new Date(Date.now()).getMonth()+1;class O extends l.Component{constructor(...e){super(...e),P(this,"state",{data:null,year:A,month:L,startDate:new Date(Date.now())}),P(this,"handleChange",(e=>{const t=new Date(e).getFullYear(),a=new Date(e).getMonth()+1;this.setState({data:null,year:t,month:a,startDate:e},(()=>this.getData()))})),P(this,"handleInput",(e=>{const t=new Date(e.target.value).getFullYear(),a=new Date(e.target.value).getMonth()+1;this.setState({data:null,year:t,month:a,startDate:date},(()=>this.getData()))}))}componentDidMount(){this.mounted=!0,this.getData()}getData(){c().get(`/api/admin/dashboard?year=${this.state.year}`).then((e=>{this.mounted&&this.setState((()=>({data:e.data})))})).catch((e=>console.log(e)))}componentWillUnmount(){this.mounted=!1}handleMonth(e){switch(e){case 1:return"January";case 2:return"Febuary";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"Ocktober";case 11:return"November";case 12:return"Disember";default:return"Error"}}render(){console.log("this for dashboard",this.props);const{data:e,year:t,month:a}=this.state;return console.log(e,t,a),l.createElement("div",{className:"container",style:{padding:"10px"}},l.createElement("div",{style:{padding:"10px"}},l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",sm:"6",lg:"6"},l.createElement("h4",null,l.createElement("i",{className:"fas fa-home"}),"  ","Dashboard")),l.createElement(C.Z,{xs:"12",sm:"6",lg:"6"},l.createElement("div",{className:"float-right"},l.createElement("h6",null,"Change Month and Year "),l.createElement(E(),{selected:this.state.startDate,onChange:this.handleChange,dateFormat:"MM/yyyy",showMonthYearPicker:!0,className:"form-control"}))))),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",sm:"6",lg:"3",className:"my-3"},l.createElement(k.Z,{className:"text-white bg-info"},l.createElement(I.Z,{className:"pb-0"},l.createElement("div",{className:"text-value",style:{textAlign:"center"}},e?l.createElement("h4",null,"RM"," ",parseFloat(e.total_sum?e.total_sum:0).toFixed(2)):l.createElement(Z.Z,{color:"light"})),l.createElement("div",{style:{textAlign:"center"}},l.createElement("h6",null,"Total Sales"))))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3",className:"my-3"},l.createElement(k.Z,{className:"text-white bg-primary"},l.createElement(I.Z,{className:"pb-0"},l.createElement("div",{className:"text-value",style:{textAlign:"center"}},e?l.createElement("h4",null,e.users):l.createElement(Z.Z,{color:"light"})),l.createElement("div",{style:{textAlign:"center"}},l.createElement("h6",null,"Customers"))))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3",className:"my-3"},l.createElement(k.Z,{className:"text-white bg-secondary"},l.createElement(I.Z,{className:"pb-0"},l.createElement("div",{className:"text-value",style:{textAlign:"center"}},e?l.createElement("h4",null,"RM"," ",parseFloat(e.sum[t]?e.sum[t]:0).toFixed(2)):l.createElement(Z.Z,{color:"light"})),l.createElement("div",{style:{textAlign:"center"}},l.createElement("h6",null,"Yearly Sales : ",t))))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3",className:"my-3"},l.createElement(k.Z,{className:"text-white bg-success"},l.createElement(I.Z,{className:"pb-0"},l.createElement("div",{className:"text-value",style:{textAlign:"center"}},e?l.createElement("h4",null,"RM ",parseFloat(e.month[a]).toFixed(2)):l.createElement(Z.Z,{color:"light"})),l.createElement("div",{style:{textAlign:"center"}},l.createElement("h6",null,"Montly Sales : ",this.handleMonth(a))))))),l.createElement("div",{style:{padding:"15px"}}),l.createElement(N.Z,null,l.createElement(C.Z,{sm:"12",md:"8",lg:"6"},l.createElement(k.Z,{className:""},l.createElement(I.Z,{className:"pb-0"},e?l.createElement(D.k,{width:"400px",height:"320px",chartType:"Bar",loader:l.createElement(Z.Z,{style:{width:"3rem",height:"3rem"}}),data:[["Month","sales"],["Jan",parseFloat(e.month[1])],["Feb",parseFloat(e.month[2])],["Mar",parseFloat(e.month[3])],["Apr",parseFloat(e.month[4])],["May",parseFloat(e.month[5])],["Jun",parseFloat(e.month[6])],["Jul",parseFloat(e.month[7])],["Aug",parseFloat(e.month[8])],["Sep",parseFloat(e.month[9])],["Oct",parseFloat(e.month[10])],["Nov",parseFloat(e.month[11])],["Dis",parseFloat(e.month[12])]],options:{chart:{title:"Total Sales By Month"}},rootProps:{"data-testid":"2"}}):l.createElement(Z.Z,{style:{width:"3rem",height:"3rem"}})))),l.createElement(C.Z,{sm:"12",md:"8",lg:"6"},l.createElement(k.Z,{className:""},l.createElement(I.Z,{className:"pb-0"},e?l.createElement(D.k,{width:"400",height:"320px",chartType:"LineChart",loader:l.createElement(Z.Z,{style:{width:"3rem",height:"3rem"}}),data:[["Month","Order Count"],["Jan",parseFloat(e.count[1])],["Feb",parseFloat(e.count[2])],["March",parseFloat(e.count[3])],["Apr",parseFloat(e.count[4])],["May",parseFloat(e.count[5])],["Jun",parseFloat(e.count[6])],["Jul",parseFloat(e.count[7])],["Aug",parseFloat(e.count[8])],["Sep",parseFloat(e.count[9])],["Oct",parseFloat(e.count[10])],["Nov",parseFloat(e.count[11])],["Dis",parseFloat(e.count[12])]],options:{hAxis:{title:"Month"},vAxis:{title:"Orders"}},rootProps:{"data-testid":"1"}}):l.createElement(Z.Z,{style:{width:"3rem",height:"3rem"}}))))))}}class F extends l.Component{render(){return l.createElement("div",{className:"modal fade",id:"product"+this.props.id,role:"dialog","aria-labelledby":"product"+this.props.id+"Label","aria-hidden":"true"},l.createElement("div",{className:"modal-dialog",role:"document"},l.createElement("div",{className:"modal-content"},l.createElement("div",{className:"modal-header"},l.createElement("h5",{style:{color:"black"}},"Delete"),l.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.createElement("span",{"aria-hidden":"true"},"Ã—"))),l.createElement("div",{className:"modal-body",style:{color:"black"}},'Confirm Delete Product "',this.props.name,'" ?'),l.createElement("div",{className:"modal-footer"},l.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.createElement("button",{onClick:()=>this.props.delete(this.props.id),type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Confirm")))))}}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class M extends l.Component{constructor(e){super(e),R(this,"paginateData",(e=>{console.log(e);const{limit:t}=this.state,a=Math.ceil(e.length/t);this.setState({pagination:this.paginate(e,t,0),data:e,range:a,active:0})})),R(this,"handlePage",(e=>{this.setState({pagination:this.paginate(this.state.data,this.state.limit,e),active:e})})),R(this,"handleRemove",(e=>{console.log("handle remove",e),c()({method:"DELETE",url:`/api/admin/products/${e}`}).then((t=>{console.log(t);let{data:a,active:l}=this.state,n=a.filter((t=>t.id!==e));this.setState({data:n}),this.handlePage(l)})).catch((e=>console.log(e)))})),R(this,"handleClear",(()=>{console.log("clearing"),this.product&&(this.productInput.value=""),this.category&&(this.categoryInput.value=""),this.stockgreat&&(this.stockgreatInput.value=""),this.stockless&&(this.stocklessInput.value=""),this.setState({product:null,categoryFilter:null,stockgreat:null,stockless:null})})),R(this,"handleSearch",(()=>{const{product:e,categoryFilter:t,stockgreat:a,stockless:l}=this.state;let n=this.state.defaultData;e&&(n=n.filter((t=>-1!==t.productName.toLowerCase().indexOf(e.toLowerCase())))),t&&"NONE"!==t&&(n=n.filter((e=>e.category.name===t))),a&&(n=n.filter((e=>e.productStock>parseFloat(a)))),l&&(n=n.filter((e=>e.productStock<parseFloat(l)))),this.paginateData(n)})),this.state={limit:10,data:null,pagination:null,active:0,product:null,categoryData:null,categoryFilter:null,stockgreat:null,stockless:null},this.productInput=null,this.categoryInput=null,this.stockgreatInput=null,this.stocklessInput=null,this.product=e=>{this.productInput=e},this.category=e=>{this.categoryInput=e},this.stockgreat=e=>{this.stockgreatInput=e},this.stockless=e=>{this.stocklessInput=e}}paginate(e,t,a){return console.log(t),e.slice(a*t,(a+1)*t)}componentDidMount(){this.mounted=!0,c().get("/api/admin/products").then((e=>{if(this.mounted){const{data:t}=e;console.log(t),this.setState({defaultData:t}),this.paginateData(t)}})).catch((e=>console.log(e))),c().get("api/admin/product/categories").then((e=>{this.mounted&&this.setState({categoryData:e.data})})).catch((e=>console.log(e)))}componentWillUnmount(){this.mounted=!1}handleEdit(e){this.props.edit(e)}render(){console.log(this.props);const{data:e,active:t,range:a,pagination:n,categoryData:s}=this.state;let o=[];if(console.log("this is pagination : ",n),a)for(let e=0;e<a;e++)o.push(l.createElement(m.Z.Item,{onClick:()=>{this.handlePage(e)},key:e,active:e===t},e+1));return l.createElement("div",null,l.createElement("div",{className:"p-2 border rounded mb-3"},l.createElement("h5",null,"Search"),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",null,l.createElement("label",null,"Product Name"),l.createElement("input",{ref:this.product,type:"text",onChange:e=>this.setState({product:e.target.value}),style:{width:"12em"},className:"form-control"}))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("label",null,"Category"),l.createElement("select",{ref:this.category,onChange:e=>this.setState({categoryFilter:e.target.value}),className:"form-control",style:{width:"12em"}},l.createElement("option",{value:"NONE"},"Filter By"),s&&s.map((e=>l.createElement("option",{key:e.id,value:e.name},e.name))))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",null,l.createElement("label",null,"Stock Greater Than"),l.createElement("input",{ref:this.stockgreat,type:"number",onChange:e=>this.setState({stockgreat:e.target.value}),style:{width:"12em"},className:"form-control"}))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",null,l.createElement("label",null,"Stock Less Than"),l.createElement("input",{ref:this.stockless,type:"number",onChange:e=>this.setState({stockless:e.target.value}),style:{width:"12em"},className:"form-control"})))),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"},l.createElement("button",{className:"btn btn-info",onClick:this.handleSearch},l.createElement("i",{className:"fas fa-search"})," ","  "," Search"))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"},l.createElement("button",{className:"btn btn-secondary",onClick:this.handleClear},l.createElement("i",{className:"fas fa-eraser"})," ","  "," Clear"))),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"})),l.createElement(C.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"pt-3 pb-3"})))),l.createElement("div",{className:"container border rounded"},l.createElement("div",{className:"m-3"},l.createElement("div",{className:"row"},l.createElement(C.Z,null,n&&l.createElement("div",null,e&&e.length?l.createElement("h6",null,e.length," result found"):l.createElement("h6",null,"No result found"))),l.createElement(C.Z,null,l.createElement(r.rU,{className:"btn btn-primary float-right",to:"/createproduct"},l.createElement("i",{className:"fas fa-plus-square fa-1x"})," Create Product"))),l.createElement("br",null),l.createElement("div",{className:"overflow-auto"},l.createElement("table",{class:"table table-dark"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{scope:"col"},"#"),l.createElement("th",{scope:"col"},"Image"),l.createElement("th",{scope:"col"},"Product"),l.createElement("th",{scope:"col"},"Category"," ",l.createElement(r.rU,{className:"btn btn-primary",to:"/category"},l.createElement("i",{className:"fas fa-edit"})," Edit")),l.createElement("th",{scope:"col"},"Price"),l.createElement("th",{scope:"col"},"Stock"),l.createElement("th",{scope:"col"},"Edit"),l.createElement("th",{scope:"col"},"Remove"))),l.createElement("tbody",null,n?n.map(((e,t)=>l.createElement("tr",{key:t},l.createElement("th",{scope:"row"},t),l.createElement("td",null,e.pictures.map(((e,t)=>0===t?l.createElement("img",{key:t,src:"/images/"+e.filename,alt:"",style:{width:"50px",height:"50px"}}):null))),l.createElement("td",null,e.productName),l.createElement("td",null,e.category?e.category.name:""),l.createElement("td",null,e.productPrice),l.createElement("td",null,e.productStock),l.createElement("td",null,l.createElement(r.rU,{className:"btn btn-primary",to:{pathname:"/edit",state:{id:e.id}}},l.createElement("i",{className:"far fa-edit"})," ","  ","Edit")),l.createElement("td",null,l.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":"#product"+e.id},l.createElement("i",{className:"far fa-1x fa-trash-alt"})," Remove"),l.createElement(F,{delete:this.handleRemove,id:e.id,name:e.productName}))))):l.createElement("tr",null,l.createElement("td",null,l.createElement(g.Z,{animation:"border"})))))),l.createElement("br",null),l.createElement(m.Z,null,l.createElement(m.Z.Prev,{onClick:()=>this.handlePage(t-1),disabled:0===t}),l.createElement(m.Z,null,o),l.createElement(m.Z.Next,{onClick:()=>this.handlePage(t+1),disabled:t===a-1})))))}}class T extends l.Component{render(){return l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("h4",null,l.createElement("i",{className:"fas fa-boxes"})," Product"),l.createElement("p",null),l.createElement(M,null))}}function U(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $ extends l.Component{constructor(...e){super(...e),U(this,"state",{data:null,show:!0,categoryData:null}),U(this,"handleCategory",(()=>{this.setState({data:null}),c()({method:"post",url:"api/admin/products/categories",data:{name:this.state.category,details:this.state.details}}).then((e=>{console.log(e.data),this.setState({categoryData:e.data,show:!0},(()=>{this.handleAxios(),this.props.selected(this.state.categoryData.id)}))})).catch((e=>console.log(e)))}))}componentDidMount(){this.mounted=!0,this.handleAxios()}componentWillUnmount(){this.mounted=!1}handleAxios(){c().get("api/admin/product/categories").then((e=>{this.mounted&&(console.log(e.data),this.setState({data:e.data}))})).catch((e=>console.log(e)))}render(){const{data:e,show:t,categoryData:a}=this.state;return l.createElement("div",null,e&&t&&l.createElement("select",{onChange:e=>this.props.selected(e.target.value),defaultValue:a?a.id:null},null!==e&&t&&l.createElement("option",{value:"false"},"Please Select A Category"),null!==e&&t?e.map((e=>l.createElement("option",{key:e.id,value:e.id},e.name))):l.createElement("option",{value:"LOADING"},"LOADING..")),t?l.createElement("div",null,l.createElement("br",null),l.createElement("button",{className:"btn btn-primary",onClick:()=>this.setState({show:!1})},"Add New Category"),l.createElement("br",null),l.createElement("br",null),l.createElement("p",null,l.createElement(r.rU,{className:"btn btn-primary",to:"/category"},l.createElement("i",{className:"fas fa-edit"})," Category List"))):l.createElement("div",null,l.createElement("div",null,l.createElement("input",{onChange:e=>this.setState({category:e.target.value}),type:"text",placeholder:"Category Name"}),l.createElement("input",{onChange:e=>this.setState({details:e.target.value}),type:"text",placeholder:"Category Details"}),l.createElement("br",null),l.createElement("button",{onClick:()=>this.setState({show:!0})},"Cancel Add Category"),l.createElement("button",{onClick:this.handleCategory},"Save"))))}}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class G extends l.Component{constructor(){super(),j(this,"handleShareholderNameChange",(e=>t=>{const a=this.state.shareholders.map(((a,l)=>e!==l?a:{...a,detailname:t.target.value}));this.setState({shareholders:a},(()=>{this.props.detailname(a)}))})),j(this,"handleShareholderDescChange",(e=>t=>{const a=this.state.shareholders.map(((a,l)=>e!==l?a:{...a,datadesc:t.target.value}));this.setState({shareholders:a},(()=>{this.props.detailname(a)}))})),j(this,"handleAddShareholder",(()=>{this.setState({shareholders:this.state.shareholders.concat([{detailname:"",datadesc:""}])})})),j(this,"handleRemoveShareholder",(e=>()=>{const t=this.state.shareholders.filter(((t,a)=>e!==a));this.setState({shareholders:t},(()=>{this.props.detailname(t)})),this.props.detailname(t)})),this.state={shareholders:[{detailname:"",datadesc:""}],detailnamehasinput:!1,datadeschasinput:!1}}render(){return l.createElement("div",null,l.createElement("h4",null,"Product Detail(s)"),this.state.shareholders.map(((e,t)=>l.createElement("div",{className:"shareholder",key:t},l.createElement("input",{required:!0,size:"12",type:"text",placeholder:`Name Of Detail #${t+1}`,value:e.detailname,onChange:this.handleShareholderNameChange(t)}),this.state.detailnamehasinput?"Name of detail is required":null,l.createElement("br",null),l.createElement("input",{required:!0,size:"12",type:"text",placeholder:`Detail Data #${t+1} `,value:e.datadesc,onChange:this.handleShareholderDescChange(t)}),this.state.datadeschasinput?"Detail data is required":null,l.createElement("button",{type:"button",onClick:this.handleRemoveShareholder(t),className:"small"},"X")))),l.createElement("button",{type:"button",onClick:this.handleAddShareholder,className:"small"},"Add Product Detail"))}}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class W extends l.Component{constructor(e){super(e),V(this,"handleAddProduct",(()=>{console.log(this.state.details);const{imageid:e,name:t,price:a,stock:l,categoryId:n,desc:s,details:r}=this.state;e&&t&&a&&l&&n&&s&&c()({method:"POST",url:`/api/admin/products/${n}`,data:{name:t,price:a,stock:l,imageid:e,desc:s,details:r}},(()=>{console.log("sending data to server....")})).then((e=>{this.mounted&&(console.log(e),this.props.history.push("/product"))})).catch((e=>console.log(e)))})),V(this,"handleRemoveImage",(()=>{c()({method:"DELETE",url:`/api/admin/products/${this.state.imageid}/image`}).then((e=>{console.log(e),this.setState({imageid:null,image:null})})).catch((e=>console.log(e)))})),V(this,"handleAddImage",(e=>{console.log("image upload",e),this.setState({imageid:e.id,image:e.image})})),V(this,"handleSelect",(e=>{"false"===e?this.setState({categoryId:null}):(console.log("show something here",e),this.setState({categoryId:e}))})),V(this,"onSelectFile",(e=>{if(e.target.files[0].size>8388608)return alert("Image File too big.. Please Put less than 8mb"),void(e.target.value="");if(e.target.files&&e.target.files.length>0){const t=new FileReader;t.addEventListener("load",(()=>{const e={src:t.result,upload:this.handleUpload};this.props.showCrop(e)})),t.readAsDataURL(e.target.files[0])}})),V(this,"handleUpload",((e,t)=>{const a=new FormData;a.append("image",e),c()({method:"post",url:"/api/admin/products/images",data:a}).then((e=>{console.log(e),this.handleAddImage(e.data),this.props.closeCrop(),t()})).catch((e=>{console.log(e),this.props.closeCrop(),t()}))})),V(this,"handleDetailName",(e=>{this.setState({details:e})})),this.state={imageid:null,name:null,price:null,stock:null,saveButton:"disabled",categoryId:null,imageid:null,desc:null,details:[],validate:!1}}componentDidMount(){this.mounted=!0}componentWillUnmount(){const{imageId:e}=this.state;this.mounted=!1,e&&this.handleRemoveImage()}render(){const{imageid:e,image:t,saveButton:a,categoryId:n,name:s,price:o,stock:i,desc:c,validate:m}=this.state;return l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("div",null,l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm"},l.createElement("h4",null,l.createElement("i",{className:"fas fa-boxes"})," ","  ",l.createElement(r.rU,{to:"/product"},"Product List")," ","> New Product"))),l.createElement("form",null,l.createElement("div",{className:"p-4 border rounded"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col"},l.createElement("label",null,"Name"),l.createElement("input",{type:"text",onChange:e=>this.setState({name:e.target.value}),className:"form-control"}),l.createElement("label",null,"Price"),l.createElement("input",{type:"number",onChange:e=>this.setState({price:e.target.value}),className:"form-control",style:{width:"10em"},min:"0"}),l.createElement("label",null,"Stock"),l.createElement("input",{style:{width:"10em"},type:"number",onChange:e=>this.setState({stock:e.target.value}),className:"form-control",min:"0"})),l.createElement("div",{className:"col"},l.createElement("label",null,"Product Description"),l.createElement("textarea",{className:"form-control mb-3",onChange:e=>this.setState({desc:e.target.value}),style:{width:"30em",height:"5em"}}),l.createElement(G,{detailname:this.handleDetailName,validate:this.validate})))),l.createElement("br",null),l.createElement("div",{className:"p-4 border rounded"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col"},null===e?l.createElement("div",null,l.createElement("label",null,"Product Image"),l.createElement("input",{type:"file",accept:"image/png, image/jpeg",onChange:this.onSelectFile})):l.createElement("div",null,l.createElement("img",{className:"p-2",src:`/images/${t}`,alt:"",style:{width:"130px",height:"130px"}}),l.createElement("div",null,l.createElement("button",{className:"btn btn-warning",onClick:this.handleRemoveImage},l.createElement("i",{className:"fas fa-trash-alt"})," Remove Image")))),l.createElement("div",{className:"col"},l.createElement($,{selected:this.handleSelect})),l.createElement("div",{className:"col"},e&&s&&o&&o>=0&&i&&i>=0&&n&&c?l.createElement("div",null,l.createElement("div",{className:"p-2"},l.createElement("button",{className:"btn btn-primary ",onClick:()=>this.handleAddProduct()},l.createElement("i",{className:"fas fa-save fa-2x "}))),l.createElement("p",null,"Save Product")):l.createElement("div",null,l.createElement("div",{className:"p-2"},l.createElement("button",{className:"btn btn-primary ",onClick:()=>this.handleAddProduct(),disabled:a},l.createElement("i",{className:"fas fa-save fa-2x"}))),l.createElement("div",{className:"alert alert-primary"},"Please Fill All Fields")),i<0&&l.createElement("div",{className:"alert alert-primary"},"Please Enter Stock Amount more than 0"),o<0&&l.createElement("div",{className:"alert alert-primary"},"Please put price more than 0")))))))}}class B extends l.Component{constructor(e){super(e),this.state={data:null,categoryId:null}}componentDidMount(){this.mounted=!0,c().get("api/admin/product/categories").then((e=>{this.mounted&&(console.log(e.data),this.setState({data:e.data,categoryId:this.props.categoryId}))})).catch((e=>console.log(e)))}componentWillUnmount(){this.mounted=!1}render(){const{data:e,categoryId:t}=this.state;return console.log("props of EditCat",this.props),l.createElement("div",null,l.createElement("div",null,e&&l.createElement("select",{onChange:e=>this.props.handleCategory(e.target.value),defaultValue:t},e.map(((e,t)=>l.createElement("option",{key:t,value:e.id},e.name))))))}}var z=a(96120),q=a.n(z);function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class X extends l.Component{constructor(e){super(e),J(this,"onSelectFile",(e=>{if(e.target.files&&e.target.files.length>0){const t=new FileReader;t.addEventListener("load",(()=>this.setState({src:t.result}))),t.readAsDataURL(e.target.files[0])}})),J(this,"onImageLoaded",((e,t)=>{this.imageRef=e})),J(this,"onCropComplete",(e=>{this.makeClientCrop(e)})),J(this,"onCropChange",(e=>{this.setState({crop:e})})),J(this,"handleUpload",(()=>{console.log("uploading...");const{imageBlob:e}=this.state,t=new FormData;t.append("image",e),this.setState({loading:!0}),c()({method:"post",url:"/api/admin/products/images",data:t}).then((e=>{console.log(e),this.props.addImage(e.data)})).catch((e=>{console.log(e)}))})),this.state={src:null,crop:{aspect:1,x:0,y:0,width:100},croppedImageUrl:null,imageBlob:null,defaultImage:!0,loading:null}}async makeClientCrop(e){if(this.imageRef&&e.width&&e.height){const t=await this.getCroppedImg(this.imageRef,e,"newFile.jpeg");this.setState({croppedImageUrl:t})}}getCroppedImg(e,t,a){const l=document.createElement("canvas"),n=e.naturalWidth/e.width,s=e.naturalHeight/e.height;l.width=t.width,l.height=t.height;return l.getContext("2d").drawImage(e,t.x*n,t.y*s,t.width*n,t.height*s,0,0,t.width,t.height),new Promise(((e,t)=>{l.toBlob((t=>{t?(this.setState({imageBlob:t}),t.name=a,window.URL.revokeObjectURL(this.fileUrl),this.fileUrl=window.URL.createObjectURL(t),e(this.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}render(){const{src:e,crop:t,defaultImage:a,croppedImageUrl:n,loading:s}=this.state;return l.createElement("div",null,s&&l.createElement("div",null,l.createElement("h3",null,"Uploading ....")),l.createElement("h4",null,"Crop and Upload Image"),l.createElement("input",{type:"file",onChange:this.onSelectFile}),e&&a&&l.createElement("div",null,l.createElement(q(),{src:e,crop:t,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),l.createElement("div",null,l.createElement("button",{onClick:()=>this.setState({defaultImage:!1})},"Crop"))),!a&&l.createElement("div",null,l.createElement("img",{alt:"Crop",style:{maxWidth:"100%"},src:n}),l.createElement("p",null," ",l.createElement("button",{onClick:this.handleUpload,className:"btn btn-primary"},"Upload"))))}}function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class H extends l.Component{constructor(e){super(e),Y(this,"handleDetailChange",(e=>t=>{const a=this.state.details.map(((a,l)=>e!==l?a:{...a,detailname:t.target.value}));this.setState({details:a},(()=>{this.props.datachange(a)}))})),Y(this,"handleDetailValueChange",(e=>t=>{const a=this.state.details.map(((a,l)=>e!==l?a:{...a,datadesc:t.target.value}));this.setState({details:a},(()=>{this.props.datachange(a)}))})),Y(this,"handleRemoveItem",(e=>t=>{console.log(e)})),Y(this,"handleAddDetails",(()=>{this.setState({details:this.state.details.concat([{detailname:"",datadesc:"",id:""}])})})),this.state={details:null}}componentDidMount(){this.setState({details:this.props.fordetails})}render(){console.log(this.state);const{details:e}=this.state;return l.createElement("div",null,l.createElement("h4",null,"Product Detail(s)"),e?e.map(((e,t)=>l.createElement("div",{className:"shareholder",key:t},l.createElement("input",{type:"text",defaultValue:e.detailname,onChange:this.handleDetailChange(t)}),l.createElement("input",{type:"text",defaultValue:e.datadesc,onChange:this.handleDetailValueChange(t)}),l.createElement("button",{type:"button",onClick:this.handleRemoveItem(e.id?e.id:null),className:"small"},"-")))):null,l.createElement("button",{type:"button",onClick:this.handleAddDetails,className:"small"},"Add Product Detail"))}}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class K extends l.Component{constructor(e){super(e),_(this,"handleCategory",(e=>{this.setState({categoryId:e})})),_(this,"handleRemoveImage",(()=>{const{image:e,data:t}=this.state;c()({method:"DELETE",url:`/api/admin/images/${t.id}/file/product`,data:{image:e}}).then((e=>{this.setState({image:null})})).catch((e=>console.log(e)))})),_(this,"handleSelect",(e=>{"false"===e?this.setState({categoryId:null}):this.setState({categoryId:e})})),_(this,"handleDetailsNull",(e=>{this.setState({details:e,gotnulldata:!1})})),_(this,"handleDetailChange",(e=>{this.setState({details:e,gotnulldata:!0})})),_(this,"handleAddImage",(e=>{this.setState({imageid:e.id,image:e.image,showAddImage:!1})})),this.state={data:null,name:null,price:null,stock:null,desc:null,categoryId:null,image:null,message:null,details:null,gotnulldata:!1}}componentDidMount(){const{id:e}=this.props.location.state;c()({method:"GET",url:`/api/admin/products/${e}`}).then((e=>{console.log(e);const{data:t}=e;this.setState({data:t,name:t.productName,price:t.productPrice,stock:t.productStock,desc:t.productDesc,details:t.productDetailss,gotnulldata:!0}),t.category&&this.setState({categoryId:t.category.id}),t.productImage&&this.setState({image:t.productImage})}))}handleSave(){const{data:e,name:t,price:a,stock:l,desc:n,categoryId:s,image:r,details:o}=this.state;console.log(e),null==t&&(t=e.productName),null==a&&(a=e.productPrice),null==l&&(l=e.productStock),null==n&&(n=e.productDesc),t&&a&&l&&n?c()({method:"PUT",url:`/api/admin/products/${e.id}`,data:{name:t,price:a,stock:l,desc:n,image:r,category:s,details:o}}).then((e=>{console.log(e),this.setState({message:"Data Has Been Saved"})})).catch((e=>{console.log(e),this.setState({message:`Data Not Save . Error : ${e}`})})):this.setState({message:"Data not save. Please Fill All requirement fields"})}render(){const{data:e,message:t,categoryId:a,image:n,details:s,gotnulldata:o}=this.state;return l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("div",null,l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm"},l.createElement("h4",null,l.createElement("i",{className:"fas fa-boxes"})," ","  ",l.createElement(r.rU,{to:"/product"},"Product List"),"   ","> ","   ","Edit Product"))),e?l.createElement("div",null):l.createElement("div",null,l.createElement(g.Z,{animation:"border"})),e&&l.createElement("div",null,l.createElement("div",{className:"p-4 border rounded"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col"},l.createElement("label",null,"Name"),l.createElement("input",{type:"text",className:"form-control",defaultValue:e.productName,onChange:e=>this.setState({name:e.target.value})}),l.createElement("label",null,"Price"),l.createElement("input",{type:"number",className:"form-control",style:{width:"10em"},min:"0",defaultValue:e.productPrice,onChange:e=>{e.target.value<0||this.setState({price:e.target.value})}}),l.createElement("label",null,"Stock"),l.createElement("input",{style:{width:"10em"},type:"number",className:"form-control",min:"0",defaultValue:e.productStock,onChange:e=>{e.target.value<0||this.setState({stock:e.target.value})}})),l.createElement("div",{className:"col"},l.createElement("label",null,"Product Description"),l.createElement("textarea",{className:"form-control",style:{width:"30em",height:"10em"},defaultValue:e.productDesc,onChange:e=>this.setState({desc:e.target.value})}),s&&o?l.createElement(H,{fordetails:s,datachange:this.handleDetailChange}):l.createElement(G,{detailname:this.handleDetailsNull})))),l.createElement("br",null),l.createElement("div",{className:"p-4 border rounded"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col"},n?l.createElement("div",null,l.createElement("img",{src:"/images/"+n,style:{width:"130px",height:"130px"}}),l.createElement("div",null,l.createElement("button",{className:"btn btn-primary",onClick:this.handleRemoveImage},"Remove Image"))):l.createElement("div",null,l.createElement("label",null,"No Image"),l.createElement("div",{className:"p-3"},l.createElement("button",{className:"btn btn-primary",onClick:()=>this.setState({showAddImage:!0})},"Add Image")))),l.createElement("div",{className:"col"},a?l.createElement("div",null,l.createElement(B,{categoryId:a,handleCategory:this.handleCategory}),l.createElement("button",{className:"btn btn-primary",onClick:()=>this.setState({categoryId:null})},"Remove Category")):l.createElement("div",null,l.createElement($,{selected:this.handleSelect}))),l.createElement("div",{className:"col"},l.createElement("button",{className:"btn btn-primary",onClick:e=>{e.preventDefault(),this.handleSave()}},"Save")))))),this.state.showAddImage&&l.createElement("div",{style:Q},l.createElement("div",{className:"col-8 mx-auto col-md-6 col-lg-4 p-2",style:ee},l.createElement(X,{addImage:this.handleAddImage}),l.createElement("button",{onClick:()=>this.setState({showAddImage:!1})},"Close"))),t&&l.createElement("div",{style:Q},l.createElement("div",{className:"col-8 mx-auto col-md-6 col-lg-4 p-2",style:ee},l.createElement("h3",null,t),l.createElement("button",{onClick:()=>this.setState({message:null})},"Close"))))}}const Q={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.3)"},ee={background:"rgb(255, 255, 255)"};function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ae extends l.Component{constructor(e){super(e),te(this,"onImageLoaded",(e=>{this.imageRef=e})),te(this,"onCropComplete",(e=>{this.makeClientCrop(e)})),te(this,"onCropChange",(e=>{this.setState({crop:e})})),te(this,"showCropImage",(e=>{})),te(this,"cancelLoad",(()=>{this.setState({loading:!1,croppedImageUrl:null,imageBlob:null,showCropImage:!1})})),te(this,"handleBackAction",(e=>{e.preventDefault(),this.setState({showCropImage:!1})})),te(this,"handleUpload",(()=>{this.setState({loading:!0},(()=>{this.props.upload(this.state.imageBlob,this.cancelLoad)}))})),te(this,"handleShowCropImage",(e=>{e.preventDefault(),this.setState({showCropImage:!0})})),te(this,"handleCloseTopX",(e=>{e.preventDefault(),this.cancelLoad(),this.props.canceltopx()})),this.state={src:null,crop:{x:0,y:0,width:100,aspect:1},croppedImageUrl:null,imageBlob:null,showCropImage:!1,loading:!1}}async makeClientCrop(e){if(this.imageRef&&e.width&&e.height){const t=await this.getCroppedImg(this.imageRef,e,"newFile.jpeg");this.setState({croppedImageUrl:t})}}getCroppedImg(e,t,a){const l=document.createElement("canvas"),n=e.naturalWidth/e.width,s=e.naturalHeight/e.height;l.width=t.width,l.height=t.height;return l.getContext("2d").drawImage(e,t.x*n,t.y*s,t.width*n,t.height*s,0,0,t.width,t.height),new Promise(((e,t)=>{l.toBlob((t=>{t?(this.setState({imageBlob:t}),t.name=a,window.URL.revokeObjectURL(this.fileUrl),this.fileUrl=window.URL.createObjectURL(t),e(this.fileUrl)):console.error("Canvas is empty")}),"image/jpeg")}))}render(){const{croppedImageUrl:e,showCropImage:t}=this.state;return l.createElement("div",null,this.props.showCrop&&!this.state.loading&&l.createElement("div",{className:"crop "},l.createElement("div",{className:"dialog col-8 mx-auto col-md-6 col-lg-4 p-2"},l.createElement("div",{className:"float-right"},l.createElement("button",{className:"btn btn-dark",onClick:this.handleCloseTopX},l.createElement("i",{className:"fas fa-times-circle fa-2x"}))),t?l.createElement("div",null,l.createElement("div",{className:"p-5"},l.createElement("img",{alt:"Crop",style:{width:"100%"},src:e})),l.createElement("button",{className:"btn btn-primary",onClick:this.handleBackAction},"Back"),"  ",l.createElement("button",{className:"btn btn-primary",onClick:this.handleUpload},"Upload")):l.createElement("div",null,l.createElement(q(),{src:this.props.src,crop:this.state.crop,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),l.createElement("button",{className:"btn btn-primary",disabled:!e,onClick:this.handleShowCropImage},"Crop")))),this.props.showCrop&&this.state.loading&&l.createElement("div",{className:"crop "},l.createElement("div",{className:"dialog col-8 mx-auto col-md-6 col-lg-4 p-5"},l.createElement("h4",null,l.createElement(g.Z,{animation:"border"})," Uploading Image...."))))}}class le extends l.Component{render(){return l.createElement("div",{className:"modal fade",id:"modalorder"+this.props.name+this.props.id,role:"dialog","aria-labelledby":"modalorder"+this.props.name+this.props.id+"Label","aria-hidden":"true"},l.createElement("div",{className:"modal-dialog",role:"document"},l.createElement("div",{className:"modal-content"},l.createElement("div",{className:"modal-header"},l.createElement("h5",{style:{color:"black"}},this.props.name),l.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.createElement("span",{"aria-hidden":"true"},"Ã—"))),l.createElement("div",{className:"modal-body",style:{color:"black"}},"Confirm Order Status Will Change to ",this.props.name,"?"),l.createElement("div",{className:"modal-footer"},l.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.createElement("button",{onClick:()=>this.props.delete(this.props.id),type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Confirm")))))}}function ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class se extends l.Component{constructor(e){super(e),ne(this,"handlePENDING",(e=>{console.log("handle change is fired",e),c().patch(`/api/admin/orders/${e}/status`,{status:"PENDING"}).then((e=>{console.log("response",e),this.setState({status:"PENDING"})})).catch((e=>{console.log(e)}))})),ne(this,"handleCompleted",(e=>{console.log("handle change is fired",e),c().patch(`/api/admin/orders/${e}/status`,{status:"COMPLETED"}).then((e=>{console.log("response",e),this.setState({status:"COMPLETED"})})).catch((e=>{console.log(e)}))})),ne(this,"handleDelivering",(e=>{console.log("handle change is fired",e),c().patch(`/api/admin/orders/${e}/status`,{status:"DELIVERING"}).then((e=>{console.log("response",e),this.setState({status:"DELIVERING"})})).catch((e=>{console.log(e)}))})),ne(this,"handleProcessing",(e=>{console.log("handle change is fired",e),c().patch(`/api/admin/orders/${e}/status`,{status:"PROCESSING"}).then((e=>{console.log("response",e),this.setState({status:"PROCESSING"})})).catch((e=>{console.log(e)}))})),this.state={data:null,status:null}}componentDidMount(){const{data:e}=this.props.location.state;this.setState({data:e,status:e.status})}render(){const{data:e,status:t}=this.state;return console.log(e),l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("div",null,l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm"},l.createElement("h4",null,l.createElement("i",{className:"fas fa-shopping-cart"})," ","  ",l.createElement(r.rU,{to:"/orders"},"Order"),"   ","> ","   ","View Order"))),l.createElement("div",{className:"border rounded p-3 mt-3"},e&&l.createElement("div",{className:"container"},l.createElement("h4",null,"Order List"),l.createElement("table",{className:"table table-sm table-dark"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("td",null,"#"),l.createElement("th",null,"Item"),l.createElement("th",null,"Quantity"),l.createElement("th",null,"Price"))),l.createElement("tbody",null,e.orderdetails.map((e=>l.createElement("tr",{key:e.id},l.createElement("td",null,l.createElement("img",{src:"/images/"+e.productImage,style:{width:"50px",height:"50px"}})),l.createElement("td",null,e.productName),l.createElement("td",null,e.qty),l.createElement("td",null,e.productPrice)))),l.createElement("tr",null,l.createElement("td",null),l.createElement("td",null),l.createElement("th",null,"Total"),l.createElement("th",null,e.total))))),l.createElement("div",{className:"border p-3"},l.createElement("h5",null,"Customer Details"),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"First Name :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.firstName)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Last Name :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.lastName)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Address :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.address)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"City :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.city)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"State :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.state)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Postcode :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.postcode)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Country :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.country)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Phone Number :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.address.phoneNumber))),l.createElement("div",{className:"border p-3"},l.createElement("h5",null,"Order Details"),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Order Date :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.createdAt)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Payment Method :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.paymentMethod)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Status :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"text-danger"},l.createElement("h6",null,t&&t))))),l.createElement("div",{className:"border p-3"},l.createElement("h5",null,"PayPal Details"),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Amount :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.paypal.amount)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Currency :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&e.paypal.currency)),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},"Status :"),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},l.createElement("div",{className:"text-danger"},l.createElement("h6",null,t&&e.paypal.status))))),l.createElement("div",{className:"border p-3"},l.createElement("h5",null,"Action"),l.createElement(d.Z,null,l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#modalorderPENDING"+e.id},"PENDING"),l.createElement(le,{delete:this.handlePENDING,id:e.id,name:"PENDING"}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-secondary","data-toggle":"modal","data-target":"#modalorderPROCESSING"+e.id},"PROCESSING"),l.createElement(le,{delete:this.handleProcessing,id:e.id,name:"PROCESSING"}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#modalorderDELIVERING"+e.id},"DELIVERING"),l.createElement(le,{delete:this.handleDelivering,id:e.id,name:"DELIVERING"}))),l.createElement(h.Z,{xs:"12",sm:"6",lg:"3"},e&&l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":"#modalorderCOMPLETED"+e.id},"COMPLETED"),l.createElement(le,{delete:this.handleCompleted,id:e.id,name:"COMPLETED"}))))))))}}class re extends l.Component{render(){return l.createElement("div",{className:"modal fade",id:"category"+this.props.id,role:"dialog","aria-labelledby":"category"+this.props.id+"Label","aria-hidden":"true"},l.createElement("div",{className:"modal-dialog",role:"document"},l.createElement("div",{className:"modal-content"},l.createElement("div",{className:"modal-header"},l.createElement("h5",{style:{color:"black"}},"Delete"),l.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.createElement("span",{"aria-hidden":"true"},"Ã—"))),l.createElement("div",{className:"modal-body",style:{color:"black"}},'Deleting this Category will delete all product for this category. Confirm Delete Category "',this.props.name,'" ? .'),l.createElement("div",{className:"modal-footer"},l.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.createElement("button",{onClick:()=>this.props.delete(this.props.id),type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Confirm")))))}}class oe extends l.Component{constructor(e){var t,a,l;super(e),l=e=>{console.log("removing ",e),c()({method:"DELETE",url:`/api/admin/categories/${e}`}).then((e=>{console.log(e),this.handleAxios()})).catch((e=>console.log(e)))},(a="handleRemove")in(t=this)?Object.defineProperty(t,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[a]=l,this.state={data:null}}componentDidMount(){this.mounted=!0,this.handleAxios()}componentWillUnmount(){this.mounted=!1}handleAxios(){c().get("api/admin/product/categories").then((e=>{this.mounted&&(console.log(e.data),this.setState({data:e.data}))})).catch((e=>console.log(e)))}render(){const{data:e}=this.state;return l.createElement("div",{className:"container",style:{flex:1,padding:"20px"}},l.createElement("h4",null,l.createElement("i",{className:"fas fa-boxes"})," ","  ",l.createElement(r.rU,{to:"/product"},"Product"),"   ","> ","   ","Category List"),l.createElement(u.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"#"),l.createElement("th",null,"Category Name"),l.createElement("th",null,"details"),l.createElement("th",null,"Remove"))),l.createElement("tbody",null,e?e.map(((e,t)=>l.createElement("tr",{key:t},l.createElement("td",null,t+1),l.createElement("td",null,e.name),l.createElement("td",null,e.details),l.createElement("td",null,l.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":"#category"+e.id},l.createElement("i",{className:"far fa-1x fa-trash-alt"})," Remove"),l.createElement(re,{delete:this.handleRemove,id:e.id,name:e.name}))))):l.createElement("tr",null,l.createElement("td",null,l.createElement(g.Z,{animation:"border"}))))))}}a(37703);var ie=a(14890),ce=a(30496);const me=(0,ie.UY)({form:ce.Z});(window.devToolsExtension?window.devToolsExtension()(ie.MT):ie.MT)(me);var de=a(13382),he=a(13910),ue=a(46314);const ge=e=>{const t={};if(e.members&&e.members.length){const a=[];e.members.forEach(((e,t)=>{const l={};e&&e.firstName||(l.firstName="Required",a[t]=l),e&&e.lastName||(l.lastName="Required",a[t]=l)})),a.length&&(t.members=a)}else t.members={_error:"At least one member must be entered"};return t};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}const Ee=({input:e,label:t,type:a,meta:{touched:n,error:s}})=>l.createElement("div",null,l.createElement("label",null,t),l.createElement("div",null,l.createElement("input",pe({},e,{type:a,placeholder:t})),n&&s&&l.createElement("span",null,s))),be=({fields:e,meta:{touched:t,error:a,submitFailed:n}})=>l.createElement("ul",null,l.createElement("li",null,l.createElement("button",{type:"button",onClick:()=>e.push({})},"Add Member"),(t||n)&&a&&l.createElement("span",null,a)),e.map(((t,a)=>l.createElement("li",{key:a},l.createElement("button",{type:"button",title:"Remove Member",onClick:()=>e.remove(a)},"X"),l.createElement("h4",null,"Member #",a+1),l.createElement("div",{className:"row"},l.createElement(de.Z,{name:`${t}.firstName`,type:"text",component:Ee,label:"First Name"}),l.createElement(de.Z,{name:`${t}.lastName`,type:"text",component:Ee,label:"Last Name"})))))),ye=e=>{console.log(e)};(0,ue.Z)({form:"fieldArrays",validate:ge})((e=>{const{handleSubmit:t,pristine:a,reset:n,submitting:s}=e;return l.createElement("form",{onSubmit:t},l.createElement(he.Z,{name:"members",component:be}),l.createElement("div",null,l.createElement("button",{type:"submit",disabled:s},"Submit"),l.createElement("button",{type:"button",disabled:a||s,onClick:n},"Clear Values"),l.createElement("label",null,"Name"),l.createElement("input",{type:"text",onChange:e=>(void 0).setState({name:e.target.value}),className:"form-control"}),l.createElement("button",{onClick:ye},"Tekan")))}));function ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class fe extends l.Component{constructor(e){super(e),ve(this,"handleAddCategory",(e=>{const t=this.state.categories.find(((t,a)=>e===a));if(console.log("kena cari",t),void 0!==t){const e=this.state.datalist.filter(((e,a)=>t.categoryname!==e.name));this.setState({datalist:e})}const a=this.state.categories.map(((a,l)=>e!==l?a:void 0!==t?{...a,disable:!0}:void 0));this.setState({categories:a},(()=>{this.setState({categories:[...this.state.categories,{categoryid:"",categoryname:"",disable:!1}]})})),this.props.changecategory(this.state.categories)})),ve(this,"handleAddSubCategory",(e=>t=>{t.preventDefault();const a=this.state.categories.map(((t,a)=>e!==a?t:{...t,subcategory:[{subcategoryid:"",subcategoryname:"",disable:!1}]}));console.log("add sub",a),this.setState({categories:a}),this.props.changecategory(a)})),ve(this,"handleAddsubtwocategory",((e,t)=>a=>{a.preventDefault(),console.log("init addsub2",this.state.categories);const l=this.state.categories.map(((a,l)=>e!==l?a:{...a,subcategory:a.subcategory.map(((e,a)=>t!==a?e:{...e,subtwocategory:[{subtwocategoryid:"",subtwocategoryname:""}]}))}));console.log("add sub two",l),this.setState({categories:l}),this.props.changecategory(l)})),ve(this,"handleAddMoreSub",(e=>t=>{t.preventDefault();const a=this.state.categories.map(((t,a)=>e!==a?t:{...t,subcategory:[...t.subcategory,{subcategoryid:"",subcategoryname:""}]}));console.log("addmoresub",a),this.setState({categories:a}),this.props.changecategory(a)})),ve(this,"handleAddMoreSubTwo",((e,t,a)=>a=>{a.preventDefault();const l=this.state.categories.map(((a,l)=>e!==l?a:{...a,subcategory:a.subcategory.map(((e,a)=>t!==a?e:{...e,subtwocategory:[...e.subtwocategory,{subtwocategoryid:"",subtwocategoryname:""}]}))}));console.log(l),this.setState({categories:l}),this.props.changecategory(l)})),ve(this,"handleRemoveCategory",(e=>t=>{if(t.preventDefault(),this.state.categories.length<2){const t=this.state.categories.map(((t,a)=>{if(e===a)return{...t,disable:!1}}));return void this.setState({categories:t,datalist:this.state.data})}const a=this.state.categories.filter(((t,a)=>e!==a));this.setState({categories:a},this.props.removecategory(a))})),ve(this,"handleRemoveSubCategory",((e,t)=>a=>{a.preventDefault();const l=this.state.categories.map(((a,l)=>e!==l?a:0===e&&0===t?{...a,subcategory:""}:{...a,subcategory:a.subcategory.filter(((e,a)=>t!==a))}));this.setState({categories:l}),this.props.removecategory(l)})),ve(this,"handleRemoveSubTwoCategory",((e,t,a)=>l=>{l.preventDefault();const n=this.state.categories.map(((l,n)=>e!==n?l:{...l,subcategory:l.subcategory.map(((e,l)=>t!==l?e:{...e,subtwocategory:e.subtwocategory.filter(((e,t)=>a!==t))}))}));this.setState({categories:n}),this.props.removecategory(n)})),ve(this,"handleInput",(e=>t=>{console.log(t.target.value);const a=this.state.data.find(((e,a)=>t.target.value===e.name));console.log("kena cari",a);const l=this.state.categories.map(((l,n)=>e!==n?l:void 0!==a?{...l,categoryname:a.name,categoryid:a.id}:{...l,categoryname:t.target.value,categoryid:""}));console.log("new data : ",l),this.setState({categories:l}),this.props.changecategory(l)})),ve(this,"handleSubInput",((e,t,a)=>l=>{console.log("target subcat",l.target.value),console.log("target cat",a);let n=null;const s=this.state.data.find(((e,t)=>a===e.name));console.log(s),s&&(n=s.subcategory.find(((e,t)=>e.subcategoryname===l.target.value)),console.log("data categori",n));const r=this.state.categories.map(((a,s)=>e!==s?a:{...a,subcategory:a.subcategory.map(((e,a)=>t!==a?e:n?{...e,subcategoryname:n.subcategoryname,subcategoryid:n.id}:{...e,subcategoryname:l.target.value,subcategoryid:""}))}));console.log("modified :",r),this.setState({categories:r}),this.props.changecategory(r)})),ve(this,"handleSubTwoInput",((e,t,a,l,n)=>s=>{let r=null,o=null;const i=this.state.data.find(((e,t)=>l===e.name));i&&(o=i.subcategory.find(((e,t)=>e.subcategoryname===n)),console.log("data categori",o)),o&&(r=o.Subtwocategory.find(((e,t)=>e.subtwocategoryname===s.target.value)));const c=this.state.categories.map(((l,n)=>e!==n?l:{...l,subcategory:l.subcategory.map(((e,l)=>t!==l?e:{...e,subtwocategory:e.subtwocategory.map(((e,t)=>a!==t?e:r?{...e,subtwocategoryname:s.target.value,subtwocategoryid:r.id}:{...e,subtwocategoryname:s.target.value,subtwocategoryid:""}))}))}));console.log("subtwonew cat :",c),this.setState({categories:c}),this.props.changecategory(c)})),this.state={categories:[{categoryid:"",categoryname:"",disable:!1}],data:[],datalist:[]}}componentDidMount(){this.mounted=!0,this.handleAxios()}componentWillUnmount(){this.mounted=!1}handleAxios(){c().get("api/admin/product/categories").then((e=>{this.mounted&&(console.log(e.data),this.setState({data:e.data,datalist:e.data}))})).catch((e=>console.log(e)))}render(){return console.log(this.state),l.createElement("div",{className:""},this.state.categories.map(((e,t)=>l.createElement("div",{key:t,className:""},l.createElement("h5",null,`Categori #${t+1} - ${e.categoryname}`),l.createElement("input",{type:"text",list:`datalist${t}`,required:!0,disabled:!(!e.subcategory&&!e.disable),size:"12",onChange:this.handleInput(t),placeholder:`Category #${t+1}`}),l.createElement("datalist",{id:`datalist${t}`},this.state.datalist&&this.state.datalist.map(((e,t)=>l.createElement("option",{key:t,value:e.name})))),l.createElement("a",{href:"#",onClick:this.handleRemoveCategory(t),className:"btn btn-sm btn-primary  p-2 m-2"},"X"),!e.disable&&l.createElement("div",null,""!==e.categoryname?l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),this.handleAddCategory(t)},className:"btn btn-sm btn-primary btn-block mb-3"},"Add Category"):null),e.subcategory?e.subcategory.map(((a,n)=>l.createElement("div",{key:n},l.createElement("h5",null,`Sub Category ${a.subcategoryname}#${n+1} of Category ${e.categoryname} #${t+1}`),l.createElement("input",{type:"text",size:"12",disabled:!!a.subtwocategory,list:`${e.categoryname}${e.categoryid}`,required:!0,placeholder:`Sub Category#${n+1}`,onChange:this.handleSubInput(t,n,e.categoryname)}),l.createElement("datalist",{id:`${e.categoryname}${e.categoryid}`},this.state.data.map(((t,a)=>{if(t.id===e.categoryid)return t.subcategory.map(((e,t)=>l.createElement("option",{key:t,value:e.subcategoryname})))}))),l.createElement("a",{href:"#",onClick:this.handleRemoveSubCategory(t,n),className:"btn btn-sm btn-primary  p-2 m-2"},"X"),l.createElement("a",{href:"#",onClick:this.handleAddMoreSub(t,n),className:"btn btn-sm btn-primary  p-2 m-2"},"Add More Sub Category"),a.subtwocategory?a.subtwocategory.map(((s,r)=>l.createElement("div",{key:r},l.createElement("h5",null,`Sub 2nd Category ${s.subtwocategoryname} #${r+1} Sub Category ${a.subcategoryname}#${n+1} of Category ${e.categoryname} #${t+1}`),l.createElement("input",{type:"text",size:"12",required:!0,list:`${e.categoryname}${a.subcategoryname}${a.subcategoryid}`,placeholder:`Sub Two Category#${r+1}`,onChange:this.handleSubTwoInput(t,n,r,e.categoryname,a.subcategoryname)}),l.createElement("datalist",{id:`${e.categoryname}${a.subcategoryname}${a.subcategoryid}`},this.state.data.map(((t,n)=>{if(t.id===e.categoryid)return t.subcategory.map(((e,t)=>{if(e.id===a.subcategoryid)return e.Subtwocategory.map(((e,t)=>l.createElement("option",{key:t,value:e.subtwocategoryname})))}))}))),l.createElement("a",{href:"#",onClick:this.handleRemoveSubTwoCategory(t,n,r),className:"btn btn-sm btn-primary btn-sm p-2 m-2"},"X"),l.createElement("a",{href:"#",onClick:this.handleAddMoreSubTwo(t,n,r),className:"btn btn-sm btn-primary  p-2 m-2"},"Add More Sub Two Category")))):l.createElement("div",null,a.subcategoryname&&l.createElement("a",{href:"#",onClick:this.handleAddsubtwocategory(t,n),className:"btn btn-sm btn-primary  p-2 m-2"},"Add Sub Two Category"))))):l.createElement("div",null,e.categoryname&&l.createElement("a",{href:"#",onClick:this.handleAddSubCategory(t),className:"btn btn-sm btn-primary  p-2 m-2"},"Add Sub Category"))))))}}function Ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ce extends l.Component{constructor(e){super(e),Ne(this,"handleAdd",(()=>{this.setState({details:this.state.details.concat([{detailname:"",datadesc:""}])})})),Ne(this,"handleRemove",(e=>{if(this.state.details.length<2)return;const t=this.state.details.filter(((t,a)=>e!==a));this.setState({details:t},(()=>this.props.removedetail(t)))})),Ne(this,"handleChangeDetailName",(e=>t=>{const a=this.state.details.map(((a,l)=>e!==l?a:{...a,detailname:t.target.value}));this.setState({details:a},(()=>this.props.newdetails(a)))})),Ne(this,"handleChangeDataDesc",(e=>t=>{const a=this.state.details.map(((a,l)=>e!==l?a:{...a,datadesc:t.target.value}));this.setState({details:a},(()=>this.props.newdetails(a)))})),this.state={details:[{detailname:"",datadesc:""}],data:null}}componentDidMount(){this.mounted=!0,this.handleAxios()}componentWillUnmount(){this.mounted=!1}handleAxios(){c().get("api/admin/product/details").then((e=>{this.mounted&&(console.log("From Details: ",e.data),this.setState({data:e.data}))})).catch((e=>console.log(e)))}render(){return console.log(this.state.details),l.createElement("div",null,this.state.details.map(((e,t)=>l.createElement("div",{className:"ml-4",key:t},l.createElement("div",{className:"row"},l.createElement("input",{size:"15",className:"mr-2 mb-2",value:e.detailname,required:!0,list:"name",type:"text",placeholder:`Detail Name #${t+1}`,onChange:this.handleChangeDetailName(t)}),l.createElement("input",{size:"15",required:!0,value:e.datadesc,list:"desc",className:"mr-2 mb-2",type:"text",placeholder:`Details #${t}`,onChange:this.handleChangeDataDesc(t)}),l.createElement("div",null,l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),this.handleRemove(t)},className:"btn btn-primary  p-2 mt-2 mb-2 "},"X")))))),l.createElement("datalist",{id:"name"},this.state.data&&this.state.data.map(((e,t)=>l.createElement("option",{key:t,value:e.detailname})))),l.createElement("datalist",{id:"desc"},this.state.data&&this.state.data.map(((e,t)=>l.createElement("option",{key:t,value:e.datadesc})))),l.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),this.handleAdd()},className:"btn btn-primary btn-sm btn-block mb-3 mt-3"},"Add More Detail"))}}var we=a(49303),Se=a.n(we),xe=a(33275),De=a(282),ke=a(44845);const Ie=a(16373)();async function Ze(e,t,a=0){const l=await(n=e,new Promise(((e,t)=>{const a=new Image;a.addEventListener("load",(()=>e(a))),a.addEventListener("error",(e=>t(e))),a.setAttribute("crossOrigin","anonymous"),a.src=n})));var n;const s=document.createElement("canvas"),r=s.getContext("2d"),o=Math.max(l.width,l.height)/2*Math.sqrt(2)*2;s.width=o,s.height=o,r.translate(o/2,o/2),r.rotate(a*Math.PI/180),r.translate(-o/2,-o/2),r.drawImage(l,o/2-.5*l.width,o/2-.5*l.height);const i=r.getImageData(0,0,o,o);return s.width=t.width,s.height=t.height,r.putImageData(i,Math.round(0-o/2+.5*l.width-t.x),Math.round(0-o/2+.5*l.height-t.y)),await Ie.toBlob(s,"image/jpeg",.9).then((e=>({blob:e,url:URL.createObjectURL(e)})))}function Pe(e){const[t,a]=(0,l.useState)({x:0,y:0}),[n,s]=(0,l.useState)(0),[r,o]=(0,l.useState)(1),[i,c]=(0,l.useState)(null),[m,d]=(0,l.useState)(null),h=(0,l.useCallback)(((e,t)=>{d(t)}),[]);function u(){e.closeDialog(),g()}const g=()=>{c(null),o(1),a({x:0,y:0}),s(0),d(null),console.log("uploaded")};return l.createElement("div",null,i&&e.showDialog?l.createElement("div",null,l.createElement("div",{style:Ae},l.createElement("div",{style:Le},l.createElement("div",{style:Me},l.createElement(De.Z,{variant:"contained",color:"primary",size:"large",onClick:u},"Cancel"),l.createElement("div",{className:"m-3"},l.createElement(De.Z,{variant:"contained",color:"primary",size:"large",onClick:()=>{e.payload.upload(i.blob,g)}},"Save"))),l.createElement("div",{style:Oe},l.createElement("div",{className:" container  ",style:Fe},l.createElement("div",{className:"row justify-content-md-center"},l.createElement("img",{src:i.url,alt:"",className:"img-fluid",style:{width:"250px",height:"250px"}}))))))):l.createElement("div",null,e.showDialog&&l.createElement("div",{style:Ae},l.createElement("div",{style:Le},l.createElement("div",{style:Me},l.createElement(De.Z,{variant:"contained",color:"primary",size:"large",onClick:u},"Cancel"),l.createElement("div",{className:"m-3"},l.createElement(De.Z,{variant:"contained",color:"primary",size:"large",onClick:async()=>{try{const t=await Ze(e.payload.src,m,n);console.log("donee",{croppedImage:t}),c(t)}catch(e){console.error(e)}}},"Crop"))),l.createElement("div",{style:Oe},l.createElement("div",{style:Fe},l.createElement(xe.Z,{image:e.payload.src,crop:t,zoom:r,aspect:1,onCropChange:a,onCropComplete:h,onZoomChange:o})),l.createElement("div",{style:Re},l.createElement("h5",{style:{padding:"20px"}},"Zoom"),l.createElement(ke.Z,{min:1,max:3,step:.1,value:r,onChange:(e,t)=>o(t)})," ",l.createElement("h5",{style:{padding:"20px"}},"Rotate")))))))}const Ae={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgb(0, 0, 0.4)",zIndex:"5"},Le={height:"100vh",width:"100vw"},Oe={height:"90%",padding:"10px"},Fe={height:"90%",position:"relative"},Re={height:"10%",display:"flex",alignItems:"center",margin:"auto",width:"60%"},Me={height:"10%",display:"flex",alignItems:"center",justifyContent:"center"};function Te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ue=a(16373)();class $e extends l.Component{constructor(e){super(e),Te(this,"handleImageAdd",(()=>{this.setState({picture:this.state.picture.concat([{imageid:"",imagename:""}])})})),Te(this,"handleRemoveImage",(e=>{if(this.state.picture.length<2)return;this.fileInput&&(this.inputFile[e].value="");const t=this.state.picture.filter(((t,a)=>e!==a)),a=this.state.picture.filter(((t,a)=>e===a)).find((e=>e.imageid));void 0!==a?(this.setState({message:"Deleting Image"}),c()({method:"DELETE",url:`/api/admin/products/${a.imageid}/image`}).then((e=>{console.log(e),this.setState({picture:t,message:null},this.props.removepicture(t))})).catch((e=>{console.log(e),this.setState({message:null}),alert("Something Not Good i can feel it..")}))):this.setState({picture:t})})),Te(this,"onSelectFile",(e=>t=>{if(console.log("ini a :",e),console.log("ini e :",t.target.files),t.target.files[0].size>8388608)return alert("Image File too big.. Please Put less than 8mb"),void(t.target.value="");t.target.files&&t.target.files.length>0&&(this.setState({targetimage:e}),Se()(t.target.files[0],(async e=>{var t=e.height*e.width;if(t>3145728){var a=t>5038848?.5:.8;try{this.setState({message:"Please wait ..."});const t={src:(await Ve(e,a)).toDataURL("image/jpeg"),upload:this.handleUpload};this.setState({payload:t,message:null,showEasyCrop:!0})}catch(e){this.setState({message:e},(()=>{setTimeout((()=>{this.setState({message:null})}),2e3)}))}}else{const t={src:e.toDataURL("image/jpeg"),upload:this.handleUpload};this.setState({payload:t,message:null,showEasyCrop:!0})}}),{orientation:!0,canvas:!0}))})),Te(this,"handleUpload",((e,t)=>{const a=new FormData;a.append("image",e),c()({method:"post",url:"/api/admin/products/images",data:a}).then((e=>{console.log(e),this.handleAddImage(e.data),this.handleCloseEasyCrop(),t()})).catch((e=>{console.log(e),this.handleCloseEasyCrop(),t()}))})),Te(this,"handleAddImage",(e=>{console.log("image upload",e);const t=this.state.picture.map(((t,a)=>a!==this.state.targetimage?t:{...t,imageid:e.id,imagename:e.image}));this.setState({picture:t},(()=>{this.props.showPicture(t)}))})),Te(this,"handleShowEasyCrop",(()=>{this.setState({showEasyCrop:!0})})),Te(this,"handleCloseEasyCrop",(()=>{this.setState({showEasyCrop:!1})})),this.state={picture:[{imageid:"",imagename:""}],targetimage:null,showBlackScreen:!1,message:null,showEasyCrop:!1,payload:null},this.inputFile=[],this.fileInput=e=>t=>{this.inputFile[e]=t}}render(){return console.log(this.state.picture),l.createElement("div",{className:"mt-3"},this.state.picture.map(((e,t)=>l.createElement("div",{key:t,className:"d-flex"},l.createElement("div",null,l.createElement("a",{href:"#",className:"btn btn-primary p-1 pt-1 mt-0.8 mr-1",onClick:e=>{e.preventDefault(),this.handleRemoveImage(t)}},"X")),l.createElement("div",{className:"m-1"},t+1+"."),e.imagename?l.createElement("img",{className:"p-2",src:`/images/${e.imagename}`,alt:"",style:{width:"130px",height:"130px"}}):l.createElement("div",null,l.createElement("input",{required:!0,key:t,ref:this.fileInput(t),className:"form-control-file m-1",type:"file",accept:"image/png, image/jpeg",onChange:this.onSelectFile(t)}))))),l.createElement("a",{href:"#",className:"btn  btn-primary btn-sm btn-block my-3",onClick:e=>{e.preventDefault(),this.handleImageAdd()}},"Add More Picture"),this.state.message&&l.createElement("div",{style:je},l.createElement("div",{className:"col-8 mx-auto col-md-6 col-lg-4 p-2",style:Ge},l.createElement("h3",null,this.state.message))),l.createElement(Pe,{showDialog:this.state.showEasyCrop,closeDialog:this.handleCloseEasyCrop,payload:this.state.payload,upload:this.handleUpload}))}}const je={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.3)",zIndex:"1"},Ge={background:"rgb(255, 255, 255)"},Ve=(e,t)=>{var a=document.createElement("canvas");return a.width=e.width*t,a.height=e.height*t,Ue.resize(e,a).then((e=>e)).catch((e=>e))};function We(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Be extends l.Component{constructor(e){super(e),We(this,"handleSubmit",(e=>{e.preventDefault(),console.log(this.state);const{name:t,price:a,stock:l,desc:n,images:s,categories:r,details:o}=this.state;this.setState({message:"Saving data.. Please Take Deep Breath .."}),c()({method:"POST",url:"/api/admin/products",data:{name:t,price:a,stock:l,desc:n,details:o,images:s,categories:r}},(()=>{console.log("sending data to server....")})).then((e=>{console.log(e),alert("Product Saved!!"),this.props.history.push("/product")})).catch((e=>{this.setState({message:"Something Wrong..erorr please contact pulis",showbutton:!0}),console.log(e)}))})),We(this,"handleUploaded",(e=>{this.setState({images:e})})),We(this,"handleRemovePicture",(e=>{this.setState({images:e})})),We(this,"handleChangeCategory",(e=>{this.setState({categories:e})})),We(this,"handleRemoveCategory",(e=>{console.log(e),this.setState({categories:e})})),We(this,"handleNewDetails",(e=>{console.log(e),this.setState({details:e})})),We(this,"handleRemoveDetail",(e=>{console.log(e),this.setState({details:e})})),this.state={images:[],details:[],categories:[],name:null,price:null,stock:null,desc:null,details:null,showbutton:!1,showCropperDialog:!1},this.handSubmit=this.handleSubmit.bind(this)}render(){return console.log(this.state),l.createElement("div",{className:"m-3"},l.createElement("form",{onSubmit:this.handleSubmit},l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",md:"6",xl:"6"},l.createElement("label",null,"Product Name"),l.createElement("input",{required:!0,type:"text",onChange:e=>this.setState({name:e.target.value}),className:"form-control"}),l.createElement("label",null,"Price"),l.createElement("input",{required:!0,type:"number",onChange:e=>this.setState({price:e.target.value}),className:"form-control",style:{width:"10em"},min:"0"}),l.createElement("label",null,"Stock"),l.createElement("input",{required:!0,style:{width:"10em"},type:"number",onChange:e=>this.setState({stock:e.target.value}),className:"form-control",min:"0"})),l.createElement(C.Z,{xs:"12",md:"6",xl:"6"},l.createElement("label",null,"Product Description"),l.createElement("textarea",{required:!0,className:"form-control mb-3",onChange:e=>this.setState({desc:e.target.value})}))),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",md:"6",xl:"6"},l.createElement($e,{showCrop:this.props.showCrop,showPicture:this.handleUploaded,closeCrop:this.props.closeCrop,removepicture:this.handleRemovePicture,showEasyCrop:this.props.showEasyCrop})),l.createElement(C.Z,{xs:"12",md:"6",xl:"6"},l.createElement(fe,{removecategory:this.handleRemoveCategory,changecategory:this.handleChangeCategory}))),l.createElement(N.Z,null,l.createElement(C.Z,{xs:"12",md:"6",xl:"6"},l.createElement(Ce,{removedetail:this.handleRemoveDetail,newdetails:this.handleNewDetails}),l.createElement("button",{className:"btn btn-primary btn-sm btn-block",onClick:this.handleSaveButton},"Save")))),this.state.message&&l.createElement("div",{style:ze},l.createElement("div",{className:"col-8 mx-auto col-md-6 col-lg-4 p-2",style:qe},l.createElement("h3",null,this.state.message),this.state.showbutton&&l.createElement("button",{onClick:()=>this.setState({message:null})},"Close"))))}}const ze={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.3)"},qe={background:"rgb(255, 255, 255)"};var Je=a(51665);class Xe extends l.Component{render(){return l.createElement(Je.Z,{className:"navbar navbar-dark bg-dark m-0 p-0 px-4"},l.createElement("div",{className:"row"},l.createElement("ul",{className:"nav nav-pills"},l.createElement("li",{className:"nav-item p-1 m-1 "},l.createElement(r.OL,{to:"/admin",exact:!0,activeClassName:"active",className:"nav-link p-1 m-1 "},l.createElement("i",{className:"fas fa-home"}))),l.createElement("li",{className:"nav-item p-1 m-1"},l.createElement(r.OL,{to:"/product",activeClassName:"active",className:"nav-link p-1 m-1"},l.createElement("i",{className:"fas fa-boxes"}))),l.createElement("li",{className:"nav-item p-1 m-1"},l.createElement(r.OL,{to:"/orders",activeClassName:"active",className:"nav-link p-1 m-1"},l.createElement("i",{className:"fas fa-shopping-cart"}))),l.createElement("li",{className:"nav-item p-1 m-1"},l.createElement(r.OL,{to:"/customer",activeClassName:"active",className:"nav-link p-1 m-1"},l.createElement("i",{className:"fas fa-users"}))),l.createElement("li",{className:"nav-item p-1 m-1"},l.createElement(r.OL,{to:"/categories",activeClassName:"active",className:"nav-link p-1 m-1"},l.createElement("i",{class:"fas fa-paw"}))),l.createElement("li",{className:"nav-item p-1 m-1"},l.createElement(r.OL,{to:"/createproduct",activeClassName:"active",className:"nav-link p-1 m-1"},l.createElement("i",{class:"fas fa-list-alt"}))))))}}a(16373)();var Ye=a(41120);a(16373)(),(0,Ye.Z)((e=>({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})));function He(e){const[t,a]=(0,l.useState)(null),[n,s]=(0,l.useState)(null),[r,o]=(0,l.useState)(null),[i,m]=(0,l.useState)(null),[d,h]=(0,l.useState)(null),[u,g]=(0,l.useState)(null);(0,l.useEffect)((()=>{c()({method:"GET",url:"/api/admin/product/allcategories"}).then((e=>{console.log(e.data),a(e.data)}))}),[]);const p=()=>{m(null),h(null),g(null)};return console.log(t),l.createElement("div",{className:"container"},l.createElement("p",null,"this is category list"),l.createElement("div",{className:"row"},l.createElement("div",{className:"col"}," ",l.createElement("label",{htmlFor:""},"Category"),l.createElement("br",null),l.createElement("select",{onChange:function(e){p();let t=e.target.value;o(null),c()({method:"GET",url:`/api/admin/products/${t}/subcategories`}).then((e=>{console.log(e.data),e.data.length<1?m(parseInt(t)):m(null),s(e.data)})).catch((e=>console.log(e)))},size:"20",style:{minWidth:"150px"}},t&&t.map(((e,t)=>l.createElement("option",{key:t,value:e.id},e.name," >")))),l.createElement("br",null),l.createElement("button",{disabled:null===i,onClick:()=>{c()({method:"DELETE",url:`/api/admin/categories/${i}`}).then((e=>console.log(e))).catch((e=>console.log(e)));const e=t.filter(((e,t)=>i!==e.id));console.log(e),a(e)}},"Delete Category")),l.createElement("div",{className:"col"},l.createElement("label",{htmlFor:""},"Sub Category"),l.createElement("br",null),l.createElement("select",{size:"20",style:{minWidth:"150px"},onChange:e=>{p();let t=e.target.value;c()({method:"GET",url:`/api/admin/products/${t}/subtwocategories`}).then((e=>{console.log(e.data),e.data.length<1?h(parseInt(t)):h(null),o(e.data)})).catch((e=>console.log(e)))}},n&&n.map(((e,t)=>l.createElement("option",{key:t,value:e.id},e.subcategoryname," "," >")))),l.createElement("br",null),l.createElement("button",{disabled:null===d,onClick:()=>{c()({method:"DELETE",url:`/api/admin/subcategories/${d}`}).then((e=>console.log(e))).catch((e=>console.log(e)));const e=n.filter(((e,t)=>d!==e.id));console.log(e),s(e)}},"Delete Sub Category")),l.createElement("div",{className:"col"},l.createElement("label",{htmlFor:""},"SubTwo Category"),l.createElement("br",null),l.createElement("select",{size:"20",style:{minWidth:"150px"},onChange:e=>{p(),g(parseInt(e.target.value)),console.log(u)}},r&&r.map(((e,t)=>l.createElement("option",{key:t,value:e.id},e.subtwocategoryname)))),l.createElement("div",null),l.createElement("button",{disabled:null===u,onClick:()=>{c()({method:"DELETE",url:`/api/admin/subtwocategories/${u}`}).then((e=>console.log(e))).catch((e=>console.log(e)));const e=r.filter(((e,t)=>u!==e.id));o(e)}},"Delete Subtwo Category"))))}function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}function Ke(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Qe extends l.Component{constructor(e){super(e),Ke(this,"handleShowCrop",(e=>{this.setState({showCrop:!0,src:e.src,upload:e.upload,showtopbar:!1})})),Ke(this,"handleCloseCrop",(()=>{this.setState({showCrop:!1,showtopbar:!0})})),Ke(this,"handlecanceltopx",(()=>{this.setState({showCrop:!1,src:null,upload:null})})),this.state={showCrop:!1,src:null,upload:null,idEdit:null,mobileView:!1,showSidebar:!0,showtopbar:!0,showEasyCropDialog:!1},this.updateViewState=this.updateViewState.bind(this),this.toggleSideBar=this.toggleSideBar.bind(this)}toggleSideBar(){this.setState({showSidebar:!this.state.showSidebar})}componentWillMount(){this.updateViewState()}componentDidMount(){window.addEventListener("resize",this.updateViewState)}componentWillUnmount(){window.removeEventListener("resize",this.updateViewState)}updateViewState(){!this.state.mobileView&&document.documentElement.clientWidth<1024?this.setState({mobileView:!0,showSidebar:!1}):document.documentElement.clientWidth>1024&&this.setState({mobileView:!1,showSidebar:!0})}render(){let e="d-flex";return this.state.mobileView&&(e="container"),l.createElement("div",null,this.state.showtopbar&&l.createElement("div",null,this.state.showSidebar?null:l.createElement(Xe,null)),l.createElement("div",{className:e},this.state.showSidebar?l.createElement(o,null):null,l.createElement(s.rs,null,l.createElement(s.AW,{path:"/admin",render:e=>l.createElement(O,e)}),l.createElement(s.AW,{path:"/orders",render:e=>l.createElement(f,e)}),l.createElement(s.AW,{path:"/customer",render:e=>l.createElement(x,e)}),l.createElement(s.AW,{path:"/product",render:e=>l.createElement(T,e)}),l.createElement(s.AW,{path:"/newproduct",render:e=>l.createElement(W,_e({},e,{showCrop:this.handleShowCrop,closeCrop:this.handleCloseCrop}))}),l.createElement(s.AW,{path:"/category",render:e=>l.createElement(oe,e)}),l.createElement(s.AW,{path:"/vieworder",render:e=>l.createElement(se,e)}),l.createElement(s.AW,{path:"/edit",render:e=>l.createElement(K,e)}),l.createElement(s.AW,{path:"/categories",render:e=>l.createElement(He,e)}),l.createElement(s.AW,{path:"/createproduct",render:e=>l.createElement(Be,e)})),l.createElement(ae,{showCrop:this.state.showCrop,src:this.state.src,upload:this.state.upload,canceltopx:this.handlecanceltopx})))}}n.render(l.createElement(r.VK,null,l.createElement(Qe,null)),document.getElementById("root"))}},0,[[21128,666,935,616,981,857]]]);